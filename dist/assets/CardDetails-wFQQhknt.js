import{j as e,l as d,p as g,o as h,q as b,r as N,X as w}from"./ui-Bqq2ZByQ.js";import{r as l}from"./vendor-OvZ-gMQr.js";import{j as v,k as T}from"./firebase-BCjCWirw.js";import{u as C,d as L}from"./index-BZ3NqF2W.js";import{c as B,u as P}from"./router-DzlXm3yj.js";import"./utils-CjxovF-h.js";const R=()=>{const{id:i}=B(),a=P(),{user:c}=C(),[s,u]=l.useState(null),[p,m]=l.useState(!0),[x,n]=l.useState(""),[f,o]=l.useState(!1);l.useEffect(()=>{(async()=>{if(!i){n("Card ID not provided"),m(!1);return}try{const r=await v(T(L,"cards",i));r.exists()?u({id:r.id,...r.data()}):n("Card not found")}catch{n("Failed to load card details")}finally{m(!1)}})()},[i]);const y=()=>{if(!c){o(!0);return}a(`/book/${i}`)},j=t=>`https://www.google.com/maps/embed/v1/place?key=AIzaSyBFw0Qbyq9zTFTd-tUY6dkmvuFiYMuO2U8&q=${encodeURIComponent(t)}`,k=()=>e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 sm:p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"Login Required"}),e.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors duration-200",children:e.jsx(w,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(b,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Ready to Book?"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm sm:text-base",children:"You need to be logged in to make a booking. Please sign in to continue with your reservation."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>{o(!1),a("/"),setTimeout(()=>{const t=document.querySelector("[data-login-trigger]");t&&t.click()},100)},className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors duration-200 font-medium",children:"Sign In to Book"}),e.jsx("button",{onClick:()=>o(!1),className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 py-3 px-6 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200 font-medium",children:"Maybe Later"})]})]})]})});return p?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):x||!s?e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("button",{onClick:()=>a("/"),className:"mb-6 inline-flex items-center text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 transition-colors duration-200",children:[e.jsx(d,{className:"w-4 h-4 mr-2"}),"Back to home"]}),e.jsxs("div",{className:"text-center bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 sm:p-12",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white mb-4",children:x||"Card not found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 text-sm sm:text-base",children:"The card you're looking for doesn't exist or has been removed."}),e.jsxs("button",{onClick:()=>a("/"),className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[e.jsx(d,{className:"w-4 h-4 mr-2"}),"Return Home"]})]})]}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("button",{onClick:()=>a("/"),className:"mb-6 inline-flex items-center text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 transition-colors duration-200 font-medium",children:[e.jsx(d,{className:"w-4 h-4 mr-2"}),"Back to home"]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[e.jsxs("div",{className:"relative h-64 sm:h-80 md:h-96 lg:h-[500px]",children:[e.jsx("img",{src:s.imageUrl,alt:s.title,className:"w-full h-full object-cover",onError:t=>{const r=t.target;r.src="https://images.pexels.com/photos/3657154/pexels-photo-3657154.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),e.jsxs("div",{className:"absolute bottom-4 sm:bottom-6 left-4 sm:left-6 text-white",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold mb-2",children:s.title}),e.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:[e.jsx("div",{className:"inline-block bg-white/20 backdrop-blur-sm px-3 sm:px-4 py-1 sm:py-2 rounded-full",children:e.jsx("span",{className:"text-sm sm:text-lg font-medium",children:s.type})}),s.pricePerHour>0&&e.jsx("div",{className:"inline-flex items-center bg-white/20 backdrop-blur-sm px-3 sm:px-4 py-1 sm:py-2 rounded-full",children:e.jsxs("span",{className:"text-sm sm:text-lg font-medium",children:["₹",s.pricePerHour,"/hour"]})}),(s.openingTime||s.closingTime)&&e.jsxs("div",{className:"inline-flex items-center bg-white/20 backdrop-blur-sm px-3 sm:px-4 py-1 sm:py-2 rounded-full",children:[e.jsx(g,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),e.jsx("span",{className:"text-sm sm:text-lg font-medium",children:s.openingTime&&s.closingTime?`${s.openingTime} - ${s.closingTime}`:s.openingTime||s.closingTime})]})]})]})]}),e.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.description&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold mb-4 text-gray-900 dark:text-white",children:"About This Venue"}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 sm:p-6",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed text-sm sm:text-base",children:s.description})})]}),s.location&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold mb-4 text-gray-900 dark:text-white",children:"Location"}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(h,{className:"w-5 h-5 text-gray-600 dark:text-gray-400 mr-2 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-medium text-sm sm:text-base",children:s.location})]}),e.jsx("div",{className:"rounded-lg overflow-hidden border border-gray-200 dark:border-gray-600",children:e.jsx("iframe",{src:j(s.location),width:"100%",height:"250",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:`Map showing location of ${s.title}`,className:"sm:h-[300px]"})})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 sm:p-6 border border-gray-200 dark:border-gray-700 sticky top-4",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Book This Venue"}),s.pricePerHour>0&&e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"text-2xl sm:text-3xl font-bold text-green-600 dark:text-green-400",children:["₹",s.pricePerHour,e.jsx("span",{className:"text-base sm:text-lg font-normal text-gray-500 dark:text-gray-400",children:"/hour"})]})}),e.jsxs("button",{onClick:y,className:"w-full bg-green-600 text-white py-3 px-6 rounded-lg hover:bg-green-700 transition-colors duration-200 font-medium flex items-center justify-center mb-4 text-sm sm:text-base",children:[e.jsx(b,{className:"w-5 h-5 mr-2"}),c?"Book Now":"Book Now (Login Required)"]}),e.jsx("button",{onClick:()=>a("/"),className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 py-3 px-6 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200 font-medium text-sm sm:text-base",children:"Back to Home"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Venue Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mr-3 sm:mr-4 flex-shrink-0",children:e.jsx(N,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-sm sm:text-base",children:"Sport Type"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:s.type})]})]}),(s.openingTime||s.closingTime)&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-orange-100 dark:bg-orange-900/30 rounded-full flex items-center justify-center mr-3 sm:mr-4 flex-shrink-0",children:e.jsx(g,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-sm sm:text-base",children:"Operating Hours"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:s.openingTime&&s.closingTime?`${s.openingTime} - ${s.closingTime}`:s.openingTime||s.closingTime})]})]}),s.location&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mr-3 sm:mr-4 flex-shrink-0",children:e.jsx(h,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600 dark:text-green-400"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-sm sm:text-base",children:"Location"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm break-words",children:s.location})]})]})]})]})]})]})})]}),f&&e.jsx(k,{})]})};export{R as default};
