import{j as e,h as P,Y as ge,a5 as ue,X as m,w as J,r as Y,p as E,o as he,s as be,t as pe}from"./ui-Bqq2ZByQ.js";import{r as n}from"./vendor-OvZ-gMQr.js";import{u as ye,d as w}from"./index-BZ3NqF2W.js";import{w as fe,v as M,x as je,m as Ne,j as we,k as X,z as ve,u as K}from"./firebase-BCjCWirw.js";import{u as ke}from"./router-DzlXm3yj.js";import"./utils-CjxovF-h.js";const v=6,Ge=()=>{const[k,Q]=n.useState([]),[u,Z]=n.useState([]),[ee,te]=n.useState([]),[se,S]=n.useState(!0),[O,T]=n.useState(""),[ae,y]=n.useState(!1),[r,C]=n.useState(null),[c,D]=n.useState(1),[R,U]=n.useState(!1),[x,L]=n.useState(""),[G,re]=n.useState(!1),[a,_]=n.useState({type:"",location:"",minPrice:0,maxPrice:0,date:""}),[o,q]=n.useState(1),I=ke(),{user:g,hasRole:f,userProfile:F}=ye(),h=Math.ceil(u.length/v),le=[...new Set(k.map(t=>t.cardType).filter(Boolean))],ne=[...new Set(k.map(t=>t.cardLocation).filter(Boolean))];n.useEffect(()=>{const s=(()=>{try{S(!0),T("");const l=fe(M(w,"bookings"),je("openSlots",">",0));return Ne(l,async V=>{const $=[];for(const j of V.docs){const i={id:j.id,...j.data()};try{const N=await we(X(w,"cards",i.cardId));if(N.exists()){const p=N.data();i.cardTitle=p.title,i.cardType=p.type,i.cardImageUrl=p.imageUrl,i.cardOpeningTime=p.openingTime,i.cardClosingTime=p.closingTime,i.cardLocation=p.location,i.cardPricePerHour=p.pricePerHour}}catch{}new Date(i.date+" "+i.timeSlot)>new Date&&$.push(i)}$.sort((j,i)=>{const W=new Date(j.date+" "+j.timeSlot),N=new Date(i.date+" "+i.timeSlot);return W.getTime()-N.getTime()}),Q($),S(!1)},V=>{T("Unable to load games at the moment."),S(!1)})}catch{T("Unable to load games at the moment."),S(!1)}})();return()=>{s&&s()}},[]),n.useEffect(()=>{let t=k;x&&(t=t.filter(s=>s.cardTitle?.toLowerCase().includes(x.toLowerCase())||s.cardType?.toLowerCase().includes(x.toLowerCase())||s.cardLocation?.toLowerCase().includes(x.toLowerCase()))),a.type&&(t=t.filter(s=>s.cardType===a.type)),a.location&&(t=t.filter(s=>s.cardLocation===a.location)),a.minPrice>0&&(t=t.filter(s=>(s.perSlotPrice||0)>=a.minPrice)),a.maxPrice>0&&(t=t.filter(s=>(s.perSlotPrice||0)<=a.maxPrice)),a.date&&(t=t.filter(s=>s.date===a.date)),Z(t),q(1)},[k,x,a]),n.useEffect(()=>{const t=(o-1)*v,s=t+v;te(u.slice(t,s))},[o,u]);const A=t=>{t>=1&&t<=h&&q(t)},ie=t=>{L(t)},d=(t,s)=>{_(l=>({...l,[t]:s}))},z=()=>{_({type:"",location:"",minPrice:0,maxPrice:0,date:""}),L("")},b=a.type||a.location||a.minPrice>0||a.maxPrice>0||a.date||x,B=t=>new Date(t).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"}),oe=()=>!g||f("admin")?!1:f("user")||f("host"),ce=t=>{if(!g){y(!0);return}if(!oe()){alert("Admins cannot join games");return}C(t),D(1)},de=async()=>{if(!(!g||!r||!F)){if(c>r.openSlots){alert(`Only ${r.openSlots} slots available`);return}U(!0);try{const t=r.openSlots-c,s=X(w,"bookings",r.id);await ve(s,{openSlots:t});const l={userId:g.uid,cardId:r.cardId,Card_ID:r.Card_ID,date:r.date,timeSlot:r.timeSlot,joinedSlots:c,originalBookingId:r.id,bookingTime:new Date},H=await K(M(w,"bookings"),l);await K(M(w,"notifications"),{userId:r.userId,type:"slot_joined",title:"Someone joined your game!",message:`A player has joined ${c} slot${c>1?"s":""} in your ${r.cardTitle} booking on ${B(r.date)} at ${r.timeSlot}`,bookingId:r.id,joinedByUserId:g.uid,joinedByEmail:g.email,joinedByDisplayName:F.displayName||"",joinedByPhoneNumber:F.phoneNumber||"",joinedSlots:c,read:!1,createdAt:new Date}),C(null),D(1),I(`/receipt/${H.id}`)}catch{alert("Failed to join game. Please try again.")}finally{U(!1)}}},xe=()=>e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Login Required"}),e.jsx("button",{onClick:()=>y(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors duration-200",children:e.jsx(m,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(P,{className:"w-8 h-8 text-blue-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Ready to Join?"}),e.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"You need to be logged in to join games. Please sign in to continue."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>{y(!1),I("/"),setTimeout(()=>{const t=document.querySelector("[data-login-trigger]");t&&t.click()},100)},className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors duration-200 font-medium",children:"Sign In to Join"}),e.jsx("button",{onClick:()=>y(!1),className:"w-full bg-gray-100 text-gray-700 py-3 px-6 rounded-lg hover:bg-gray-200 transition-colors duration-200 font-medium",children:"Maybe Later"})]})]})]})}),me=()=>e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Join Game"}),e.jsx("button",{onClick:()=>C(null),className:"p-2 hover:bg-gray-100 rounded-full transition-colors duration-200",children:e.jsx(m,{className:"w-5 h-5 text-gray-500"})})]}),e.jsx("div",{className:"p-6",children:r&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:r.cardTitle}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:B(r.date)})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(E,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:r.timeSlot})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(J,{className:"w-4 h-4 mr-2"}),e.jsxs("span",{children:[r.openSlots," slots available"]})]}),r.perSlotPrice&&e.jsx("div",{className:"flex items-center",children:e.jsxs("span",{className:"font-semibold text-green-600",children:["₹",r.perSlotPrice," per slot"]})})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"How many slots do you want to book?"}),e.jsx("select",{value:c,onChange:t=>D(Number(t.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:Array.from({length:r.openSlots},(t,s)=>s+1).map(t=>e.jsxs("option",{value:t,children:[t," slot",t>1?"s":"",r.perSlotPrice&&` - ₹${t*r.perSlotPrice}`]},t))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:de,disabled:R,className:"w-full bg-green-600 text-white py-3 px-6 rounded-lg hover:bg-green-700 transition-colors duration-200 font-medium disabled:opacity-50",children:R?"Joining...":`Join Game (${c} slot${c>1?"s":""}${r.perSlotPrice?` - ₹${c*r.perSlotPrice}`:""})`}),e.jsx("button",{onClick:()=>C(null),className:"w-full bg-gray-100 text-gray-700 py-3 px-6 rounded-lg hover:bg-gray-200 transition-colors duration-200 font-medium",children:"Cancel"})]})]})})]})});return se?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):O?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded-lg",children:[e.jsx("p",{children:O}),e.jsx("p",{className:"text-sm mt-1",children:"Please try refreshing the page or contact support if the issue persists."})]})}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Join Games"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-base sm:text-lg",children:"Find games with open slots and join other players for exciting matches!"}),!g&&e.jsx("div",{className:"mt-6 bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700 rounded-lg p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(P,{className:"w-6 h-6 text-blue-600 dark:text-blue-400 mr-3 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-800 dark:text-blue-300 mb-2",children:"Sign In Required"}),e.jsx("p",{className:"text-blue-700 dark:text-blue-300 mb-4 text-sm sm:text-base",children:"To view and join available games, you need to be signed in to your account. This helps us ensure a secure and personalized gaming experience."}),e.jsx("button",{onClick:()=>y(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200 font-medium text-sm sm:text-base",children:"Sign In Now"})]})]})}),f("admin")&&e.jsx("div",{className:"mt-4 bg-yellow-100 dark:bg-yellow-900/30 border border-yellow-400 dark:border-yellow-600 text-yellow-700 dark:text-yellow-300 px-4 py-3 rounded-lg",children:e.jsx("p",{className:"text-sm sm:text-base",children:"Admins cannot join games. This page is for viewing purposes only."})})]}),g?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4 sm:p-6 mb-8",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ge,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"})}),e.jsx("input",{type:"text",placeholder:"Search games by title, type, or location...",value:x,onChange:t=>ie(t.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),e.jsxs("button",{onClick:()=>re(!G),className:`flex items-center px-4 py-3 border rounded-lg transition-colors duration-200 text-sm sm:text-base ${G||b?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600"}`,children:[e.jsx(ue,{className:"w-5 h-5 mr-2"}),"Filters",b&&e.jsx("span",{className:"ml-2 bg-white dark:bg-gray-800 text-blue-600 dark:text-blue-400 rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold",children:"!"})]})]}),G&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Filters"}),b&&e.jsxs("button",{onClick:z,className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 flex items-center",children:[e.jsx(m,{className:"w-4 h-4 mr-1"}),"Clear all"]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sport Type"}),e.jsxs("select",{value:a.type,onChange:t=>d("type",t.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"",children:"All Types"}),le.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Location"}),e.jsxs("select",{value:a.location,onChange:t=>d("location",t.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"",children:"All Locations"}),ne.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date"}),e.jsx("input",{type:"date",value:a.date,onChange:t=>d("date",t.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Min Price (₹/slot)"}),e.jsx("input",{type:"number",value:a.minPrice||"",onChange:t=>d("minPrice",parseInt(t.target.value)||0),placeholder:"0",min:"0",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Max Price (₹/slot)"}),e.jsx("input",{type:"number",value:a.maxPrice||"",onChange:t=>d("maxPrice",parseInt(t.target.value)||0),placeholder:"Any",min:"0",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),b&&e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[x&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-gray-100 text-gray-800",children:["Search: ",x,e.jsx("button",{onClick:()=>L(""),className:"ml-2 text-gray-600 hover:text-gray-800",children:e.jsx(m,{className:"w-3 h-3"})})]}),a.type&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800",children:["Type: ",a.type,e.jsx("button",{onClick:()=>d("type",""),className:"ml-2 text-blue-600 hover:text-blue-800",children:e.jsx(m,{className:"w-3 h-3"})})]}),a.location&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-purple-100 text-purple-800",children:["Location: ",a.location,e.jsx("button",{onClick:()=>d("location",""),className:"ml-2 text-purple-600 hover:text-purple-800",children:e.jsx(m,{className:"w-3 h-3"})})]}),a.date&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-orange-100 text-orange-800",children:["Date: ",new Date(a.date).toLocaleDateString(),e.jsx("button",{onClick:()=>d("date",""),className:"ml-2 text-orange-600 hover:text-orange-800",children:e.jsx(m,{className:"w-3 h-3"})})]}),a.minPrice>0&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-green-100 text-green-800",children:["Min: ₹",a.minPrice,e.jsx("button",{onClick:()=>d("minPrice",0),className:"ml-2 text-green-600 hover:text-green-800",children:e.jsx(m,{className:"w-3 h-3"})})]}),a.maxPrice>0&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-green-100 text-green-800",children:["Max: ₹",a.maxPrice,e.jsx("button",{onClick:()=>d("maxPrice",0),className:"ml-2 text-green-600 hover:text-green-800",children:e.jsx(m,{className:"w-3 h-3"})})]})]})]})]}),e.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 space-y-4 sm:space-y-0",children:e.jsx("div",{className:"text-sm text-gray-600",children:u.length>0?e.jsxs(e.Fragment,{children:["Showing ",(o-1)*v+1,"-",Math.min(o*v,u.length)," of ",u.length," games"]}):e.jsx(e.Fragment,{children:"No games found"})})}),u.length===0?e.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-lg",children:[e.jsx(J,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-600 mb-2",children:b?"No games match your criteria":"No Games Available"}),e.jsx("p",{className:"text-gray-500 mb-6 text-sm sm:text-base px-4",children:b?"Try adjusting your search or filters to find more games.":"There are currently no games with open slots. Check back later or create your own game!"}),b?e.jsx("button",{onClick:z,className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Clear Filters"}):e.jsx("button",{onClick:()=>I("/"),className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Browse Cards"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:ee.map(t=>e.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:"relative h-48 bg-gray-200",children:[e.jsx("img",{src:t.cardImageUrl,alt:t.cardTitle,className:"w-full h-full object-cover",onError:s=>{const l=s.target;l.src="https://images.pexels.com/photos/3657154/pexels-photo-3657154.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"}}),e.jsxs("div",{className:"absolute top-2 left-2 bg-green-600 text-white px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium",children:[t.openSlots," slots open"]}),e.jsx("div",{className:"absolute top-2 right-2 bg-blue-600 text-white px-2 py-1 rounded text-xs sm:text-sm",children:"Join Game"}),t.perSlotPrice&&e.jsxs("div",{className:"absolute bottom-2 right-2 bg-yellow-500 text-white px-2 py-1 rounded text-xs sm:text-sm font-semibold",children:["₹",t.perSlotPrice,"/slot"]})]}),e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2 line-clamp-1",children:t.cardTitle}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsx("div",{className:"flex items-center text-gray-600 text-sm",children:e.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full mr-2",children:t.cardType})}),e.jsxs("div",{className:"flex items-center text-gray-600 text-sm",children:[e.jsx(Y,{className:"w-4 h-4 mr-2 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:B(t.date)})]}),e.jsxs("div",{className:"flex items-center text-gray-600 text-sm",children:[e.jsx(E,{className:"w-4 h-4 mr-2 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:t.timeSlot})]}),t.cardLocation&&e.jsxs("div",{className:"flex items-center text-gray-600 text-sm",children:[e.jsx(he,{className:"w-4 h-4 mr-2 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:t.cardLocation})]}),(t.cardOpeningTime||t.cardClosingTime)&&e.jsxs("div",{className:"flex items-center text-gray-600 text-sm",children:[e.jsx(E,{className:"w-4 h-4 mr-2 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:t.cardOpeningTime&&t.cardClosingTime?`${t.cardOpeningTime} - ${t.cardClosingTime}`:t.cardOpeningTime||t.cardClosingTime})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 space-y-2 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-center text-green-600",children:[e.jsx(J,{className:"w-5 h-5 mr-2"}),e.jsxs("span",{className:"font-semibold text-sm",children:[t.openSlots," slots available"]})]}),t.perSlotPrice&&e.jsx("div",{className:"flex items-center text-blue-600",children:e.jsxs("span",{className:"font-semibold text-sm",children:["₹",t.perSlotPrice,"/slot"]})})]}),e.jsx("button",{onClick:()=>ce(t),disabled:f("admin"),className:"w-full bg-green-600 text-white py-3 px-6 rounded-lg hover:bg-green-700 transition-colors duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base",children:f("admin")?"Admin View Only":"Join Game"})]})]},t.id))}),h>1&&e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-4",children:[e.jsxs("button",{onClick:()=>A(o-1),disabled:o===1,className:"flex items-center px-4 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:[e.jsx(be,{className:"w-4 h-4 mr-1"}),"Previous"]}),e.jsx("div",{className:"flex items-center space-x-2 overflow-x-auto",children:Array.from({length:Math.min(5,h)},(t,s)=>{let l;return h<=5||o<=3?l=s+1:o>=h-2?l=h-4+s:l=o-2+s,e.jsx("button",{onClick:()=>A(l),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200 ${l===o?"bg-blue-600 text-white":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-50 hover:text-gray-700"}`,children:l},l)})}),e.jsxs("button",{onClick:()=>A(o+1),disabled:o===h,className:"flex items-center px-4 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:["Next",e.jsx(pe,{className:"w-4 h-4 ml-1"})]})]})]})]}):e.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-lg",children:[e.jsx(P,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-600 mb-2",children:"Sign In to View Games"}),e.jsx("p",{className:"text-gray-500 mb-6 text-sm sm:text-base px-4",children:"Please sign in to your account to view and join available games."}),e.jsxs("button",{onClick:()=>y(!0),className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[e.jsx(P,{className:"w-5 h-5 mr-2"}),"Sign In"]})]}),ae&&e.jsx(xe,{}),r&&e.jsx(me,{})]})};export{Ge as default};
