import{j as e,c as T,s as he,Q as be,X as x,k as O,w as X,i as R,h as pe,K as ye,N as fe}from"./ui-DBnrXiOs.js";import{r as n,u as je}from"./router-us_BkMbn.js";import{u as Ne,d as v}from"./index-C1saGSt8.js";import{q as we,m as U,w as ve,e as ke,b as Se,d as Y,u as Ce,l as Z}from"./firebase-CYC7APn9.js";import"./vendor-BYA32aEE.js";const k=6,Fe=()=>{const[S,ee]=n.useState([]),[b,te]=n.useState([]),[se,ae]=n.useState([]),[re,C]=n.useState(!0),[_,D]=n.useState(""),[le,j]=n.useState(!1),[r,P]=n.useState(null),[c,L]=n.useState(1),[q,z]=n.useState(!1),[m,G]=n.useState(""),[I,ne]=n.useState(!1),[a,H]=n.useState({type:"",location:"",minPrice:0,maxPrice:0,date:""}),[i,V]=n.useState(1),F=je(),{user:g,hasRole:N,userProfile:A}=Ne(),p=Math.ceil(b.length/k),ie=[...new Set(S.map(t=>t.cardType).filter(Boolean))],oe=[...new Set(S.map(t=>t.cardLocation).filter(Boolean))];n.useEffect(()=>{const s=(()=>{try{C(!0),D("");const l=we(U(v,"bookings"),ve("openSlots",">",0));return ke(l,async Q=>{const J=[],E=Q.docs.map(u=>({id:u.id,...u.data()}));try{const u=E.map(h=>Se(Y(v,"cards",h.cardId))),w=await Promise.all(u);for(let h=0;h<E.length;h++){const o=E[h],M=w[h];if(M&&M.exists()){const f=M.data();o.cardTitle=f.title,o.cardType=f.type,o.cardImageUrl=f.imageUrl,o.cardOpeningTime=f.openingTime,o.cardClosingTime=f.closingTime,o.cardLocation=f.location,o.cardPricePerHour=f.pricePerHour}new Date(o.date+" "+o.timeSlot)>new Date&&J.push(o)}}catch{}J.sort((u,w)=>{const h=new Date(u.date+" "+u.timeSlot),o=new Date(w.date+" "+w.timeSlot);return h.getTime()-o.getTime()}),ee(J),C(!1)},Q=>{D("Unable to load games at the moment."),C(!1)})}catch{D("Unable to load games at the moment."),C(!1)}})();return()=>{s&&s()}},[]),n.useEffect(()=>{let t=S;m&&(t=t.filter(s=>s.cardTitle?.toLowerCase().includes(m.toLowerCase())||s.cardType?.toLowerCase().includes(m.toLowerCase())||s.cardLocation?.toLowerCase().includes(m.toLowerCase()))),a.type&&(t=t.filter(s=>s.cardType===a.type)),a.location&&(t=t.filter(s=>s.cardLocation===a.location)),a.minPrice>0&&(t=t.filter(s=>(s.perSlotPrice||0)>=a.minPrice)),a.maxPrice>0&&(t=t.filter(s=>(s.perSlotPrice||0)<=a.maxPrice)),a.date&&(t=t.filter(s=>s.date===a.date)),te(t),V(1)},[S,m,a]),n.useEffect(()=>{const t=(i-1)*k,s=t+k;ae(b.slice(t,s))},[i,b]);const B=t=>{t>=1&&t<=p&&V(t)},ce=t=>{G(t)},d=(t,s)=>{H(l=>({...l,[t]:s}))},W=()=>{H({type:"",location:"",minPrice:0,maxPrice:0,date:""}),G("")},y=a.type||a.location||a.minPrice>0||a.maxPrice>0||a.date||m,$=t=>new Date(t).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"}),de=()=>!g||N("admin")?!1:N("user")||N("host"),me=t=>{if(!g){j(!0);return}if(!de()){alert("Admins cannot join games");return}P(t),L(1)},xe=async()=>{if(!(!g||!r||!A)){if(c>r.openSlots){alert(`Only ${r.openSlots} slots available`);return}z(!0);try{const t=r.openSlots-c,s=Y(v,"bookings",r.id);await Ce(s,{openSlots:t});const l={userId:g.uid,cardId:r.cardId,Card_ID:r.Card_ID,date:r.date,timeSlot:r.timeSlot,joinedSlots:c,originalBookingId:r.id,bookingTime:new Date},K=await Z(U(v,"bookings"),l);await Z(U(v,"notifications"),{userId:r.userId,type:"slot_joined",title:"Someone joined your game!",message:`A player has joined ${c} slot${c>1?"s":""} in your ${r.cardTitle} booking on ${$(r.date)} at ${r.timeSlot}`,bookingId:r.id,joinedByUserId:g.uid,joinedByEmail:g.email,joinedByDisplayName:A.displayName||"",joinedByPhoneNumber:A.phoneNumber||"",joinedSlots:c,read:!1,createdAt:new Date}),P(null),L(1),F(`/receipt/${K.id}`)}catch{alert("Failed to join game. Please try again.")}finally{z(!1)}}},ge=()=>e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Login Required"}),e.jsx("button",{onClick:()=>j(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors duration-200",children:e.jsx(x,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(T,{className:"w-8 h-8 text-blue-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Ready to Join?"}),e.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"You need to be logged in to join games. Please sign in to continue."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>{j(!1),F("/"),setTimeout(()=>{const t=document.querySelector("[data-login-trigger]");t&&t.click()},100)},className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors duration-200 font-medium",children:"Sign In to Join"}),e.jsx("button",{onClick:()=>j(!1),className:"w-full bg-gray-100 text-gray-700 py-3 px-6 rounded-lg hover:bg-gray-200 transition-colors duration-200 font-medium",children:"Maybe Later"})]})]})]})}),ue=()=>e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Join Game"}),e.jsx("button",{onClick:()=>P(null),className:"p-2 hover:bg-gray-100 rounded-full transition-colors duration-200",children:e.jsx(x,{className:"w-5 h-5 text-gray-500"})})]}),e.jsx("div",{className:"p-6",children:r&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:r.cardTitle}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(X,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:$(r.date)})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(R,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:r.timeSlot})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(O,{className:"w-4 h-4 mr-2"}),e.jsxs("span",{children:[r.openSlots," slots available"]})]}),r.perSlotPrice&&e.jsx("div",{className:"flex items-center",children:e.jsxs("span",{className:"font-semibold text-green-600",children:["₹",r.perSlotPrice," per slot"]})})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"How many slots do you want to book?"}),e.jsx("select",{value:c,onChange:t=>L(Number(t.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:Array.from({length:r.openSlots},(t,s)=>s+1).map(t=>e.jsxs("option",{value:t,children:[t," slot",t>1?"s":"",r.perSlotPrice&&` - ₹${t*r.perSlotPrice}`]},t))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:xe,disabled:q,className:"w-full bg-green-600 text-white py-3 px-6 rounded-lg hover:bg-green-700 transition-colors duration-200 font-medium disabled:opacity-50",children:q?"Joining...":`Join Game (${c} slot${c>1?"s":""}${r.perSlotPrice?` - ₹${c*r.perSlotPrice}`:""})`}),e.jsx("button",{onClick:()=>P(null),className:"w-full bg-gray-100 text-gray-700 py-3 px-6 rounded-lg hover:bg-gray-200 transition-colors duration-200 font-medium",children:"Cancel"})]})]})})]})});return re?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):_?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded-lg",children:[e.jsx("p",{children:_}),e.jsx("p",{className:"text-sm mt-1",children:"Please try refreshing the page or contact support if the issue persists."})]})}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Join Games"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-base sm:text-lg",children:"Find games with open slots and join other players for exciting matches!"}),!g&&e.jsx("div",{className:"mt-6 bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700 rounded-lg p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(T,{className:"w-6 h-6 text-blue-600 dark:text-blue-400 mr-3 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-800 dark:text-blue-300 mb-2",children:"Sign In Required"}),e.jsx("p",{className:"text-blue-700 dark:text-blue-300 mb-4 text-sm sm:text-base",children:"To view and join available games, you need to be signed in to your account. This helps us ensure a secure and personalized gaming experience."}),e.jsx("button",{onClick:()=>j(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200 font-medium text-sm sm:text-base",children:"Sign In Now"})]})]})}),N("admin")&&e.jsx("div",{className:"mt-4 bg-yellow-100 dark:bg-yellow-900/30 border border-yellow-400 dark:border-yellow-600 text-yellow-700 dark:text-yellow-300 px-4 py-3 rounded-lg",children:e.jsx("p",{className:"text-sm sm:text-base",children:"Admins cannot join games. This page is for viewing purposes only."})})]}),g?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4 sm:p-6 mb-8",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(he,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"})}),e.jsx("input",{type:"text",placeholder:"Search games by title, type, or location...",value:m,onChange:t=>ce(t.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),e.jsxs("button",{onClick:()=>ne(!I),className:`flex items-center px-4 py-3 border rounded-lg transition-colors duration-200 text-sm sm:text-base ${I||y?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600"}`,children:[e.jsx(be,{className:"w-5 h-5 mr-2"}),"Filters",y&&e.jsx("span",{className:"ml-2 bg-white dark:bg-gray-800 text-blue-600 dark:text-blue-400 rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold",children:"!"})]})]}),I&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Filters"}),y&&e.jsxs("button",{onClick:W,className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 flex items-center",children:[e.jsx(x,{className:"w-4 h-4 mr-1"}),"Clear all"]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sport Type"}),e.jsxs("select",{value:a.type,onChange:t=>d("type",t.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"",children:"All Types"}),ie.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Location"}),e.jsxs("select",{value:a.location,onChange:t=>d("location",t.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"",children:"All Locations"}),oe.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date"}),e.jsx("input",{type:"date",value:a.date,onChange:t=>d("date",t.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Min Price (₹/slot)"}),e.jsx("input",{type:"number",value:a.minPrice||"",onChange:t=>d("minPrice",parseInt(t.target.value)||0),placeholder:"0",min:"0",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Max Price (₹/slot)"}),e.jsx("input",{type:"number",value:a.maxPrice||"",onChange:t=>d("maxPrice",parseInt(t.target.value)||0),placeholder:"Any",min:"0",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),y&&e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[m&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-gray-100 text-gray-800",children:["Search: ",m,e.jsx("button",{onClick:()=>G(""),className:"ml-2 text-gray-600 hover:text-gray-800",children:e.jsx(x,{className:"w-3 h-3"})})]}),a.type&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800",children:["Type: ",a.type,e.jsx("button",{onClick:()=>d("type",""),className:"ml-2 text-blue-600 hover:text-blue-800",children:e.jsx(x,{className:"w-3 h-3"})})]}),a.location&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-purple-100 text-purple-800",children:["Location: ",a.location,e.jsx("button",{onClick:()=>d("location",""),className:"ml-2 text-purple-600 hover:text-purple-800",children:e.jsx(x,{className:"w-3 h-3"})})]}),a.date&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-orange-100 text-orange-800",children:["Date: ",new Date(a.date).toLocaleDateString(),e.jsx("button",{onClick:()=>d("date",""),className:"ml-2 text-orange-600 hover:text-orange-800",children:e.jsx(x,{className:"w-3 h-3"})})]}),a.minPrice>0&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-green-100 text-green-800",children:["Min: ₹",a.minPrice,e.jsx("button",{onClick:()=>d("minPrice",0),className:"ml-2 text-green-600 hover:text-green-800",children:e.jsx(x,{className:"w-3 h-3"})})]}),a.maxPrice>0&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-green-100 text-green-800",children:["Max: ₹",a.maxPrice,e.jsx("button",{onClick:()=>d("maxPrice",0),className:"ml-2 text-green-600 hover:text-green-800",children:e.jsx(x,{className:"w-3 h-3"})})]})]})]})]}),e.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 space-y-4 sm:space-y-0",children:e.jsx("div",{className:"text-sm text-gray-600",children:b.length>0?e.jsxs(e.Fragment,{children:["Showing ",(i-1)*k+1,"-",Math.min(i*k,b.length)," of ",b.length," games"]}):e.jsx(e.Fragment,{children:"No games found"})})}),b.length===0?e.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-lg",children:[e.jsx(O,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-600 mb-2",children:y?"No games match your criteria":"No Games Available"}),e.jsx("p",{className:"text-gray-500 mb-6 text-sm sm:text-base px-4",children:y?"Try adjusting your search or filters to find more games.":"There are currently no games with open slots. Check back later or create your own game!"}),y?e.jsx("button",{onClick:W,className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Clear Filters"}):e.jsx("button",{onClick:()=>F("/"),className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Browse Cards"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:se.map(t=>e.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:"relative h-48 bg-gray-200",children:[e.jsx("img",{src:t.cardImageUrl,alt:t.cardTitle,className:"w-full h-full object-cover",loading:"lazy",decoding:"async",onError:s=>{const l=s.target;l.src="https://images.pexels.com/photos/3657154/pexels-photo-3657154.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"}}),e.jsxs("div",{className:"absolute top-2 left-2 bg-green-600 text-white px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium",children:[t.openSlots," slots open"]}),e.jsx("div",{className:"absolute top-2 right-2 bg-blue-600 text-white px-2 py-1 rounded text-xs sm:text-sm",children:"Join Game"}),t.perSlotPrice&&e.jsxs("div",{className:"absolute bottom-2 right-2 bg-yellow-500 text-white px-2 py-1 rounded text-xs sm:text-sm font-semibold",children:["₹",t.perSlotPrice,"/slot"]})]}),e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2 line-clamp-1",children:t.cardTitle}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsx("div",{className:"flex items-center text-gray-600 text-sm",children:e.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full mr-2",children:t.cardType})}),e.jsxs("div",{className:"flex items-center text-gray-600 text-sm",children:[e.jsx(X,{className:"w-4 h-4 mr-2 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:$(t.date)})]}),e.jsxs("div",{className:"flex items-center text-gray-600 text-sm",children:[e.jsx(R,{className:"w-4 h-4 mr-2 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:t.timeSlot})]}),t.cardLocation&&e.jsxs("div",{className:"flex items-center text-gray-600 text-sm",children:[e.jsx(pe,{className:"w-4 h-4 mr-2 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:t.cardLocation})]}),(t.cardOpeningTime||t.cardClosingTime)&&e.jsxs("div",{className:"flex items-center text-gray-600 text-sm",children:[e.jsx(R,{className:"w-4 h-4 mr-2 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:t.cardOpeningTime&&t.cardClosingTime?`${t.cardOpeningTime} - ${t.cardClosingTime}`:t.cardOpeningTime||t.cardClosingTime})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 space-y-2 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-center text-green-600",children:[e.jsx(O,{className:"w-5 h-5 mr-2"}),e.jsxs("span",{className:"font-semibold text-sm",children:[t.openSlots," slots available"]})]}),t.perSlotPrice&&e.jsx("div",{className:"flex items-center text-blue-600",children:e.jsxs("span",{className:"font-semibold text-sm",children:["₹",t.perSlotPrice,"/slot"]})})]}),e.jsx("button",{onClick:()=>me(t),disabled:N("admin"),className:"w-full bg-green-600 text-white py-3 px-6 rounded-lg hover:bg-green-700 transition-colors duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base",children:N("admin")?"Admin View Only":"Join Game"})]})]},t.id))}),p>1&&e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-4",children:[e.jsxs("button",{onClick:()=>B(i-1),disabled:i===1,className:"flex items-center px-4 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:[e.jsx(ye,{className:"w-4 h-4 mr-1"}),"Previous"]}),e.jsx("div",{className:"flex items-center space-x-2 overflow-x-auto",children:Array.from({length:Math.min(5,p)},(t,s)=>{let l;return p<=5||i<=3?l=s+1:i>=p-2?l=p-4+s:l=i-2+s,e.jsx("button",{onClick:()=>B(l),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200 ${l===i?"bg-blue-600 text-white":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-50 hover:text-gray-700"}`,children:l},l)})}),e.jsxs("button",{onClick:()=>B(i+1),disabled:i===p,className:"flex items-center px-4 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:["Next",e.jsx(fe,{className:"w-4 h-4 ml-1"})]})]})]})]}):e.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-lg",children:[e.jsx(T,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-600 mb-2",children:"Sign In to View Games"}),e.jsx("p",{className:"text-gray-500 mb-6 text-sm sm:text-base px-4",children:"Please sign in to your account to view and join available games."}),e.jsxs("button",{onClick:()=>j(!0),className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[e.jsx(T,{className:"w-5 h-5 mr-2"}),"Sign In"]})]}),le&&e.jsx(ge,{}),r&&e.jsx(ue,{})]})};export{Fe as default};
